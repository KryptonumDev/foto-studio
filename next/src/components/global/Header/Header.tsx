import { defineQuery } from 'next-sanity';
import sanityFetch from '@/utils/sanity.fetch';
import type { HeaderQueryTypes } from './Header.types';
import _Header from './_Header';

import styles from './Header.module.scss';

export default async function Header() {
  const {
    nav: { links },
  } = await query();

  return (
    <>
      <a
        href='#main'
        className={styles.skipLink}
      >
        Przejdź do głównej treści
      </a>
      <_Header
        logo={FotoStudioLogo}
        links={links}
      />
    </>
  );
}

const query = async () => {
  const navQuery = defineQuery(`
    *[_id == "global"][0] {
      nav {
        links[] {
          name,
          href
        }
      }
    }
  `);

  return await sanityFetch<HeaderQueryTypes>({ query: navQuery });
};

const FotoStudioLogo = (
  <svg
    width='122'
    height='34'
    viewBox='0 0 122 34'
    fill='none'
    xmlns='http://www.w3.org/2000/svg'
  >
    <path
      d='M100.775 6.88534L103.117 4.52899H117.776V18.9768L115.435 21.3331V6.88534H100.775Z'
      fill='#141414'
    />
    <path
      d='M21.367 27.0707L19.0248 29.4285H4.36432V14.9807L6.70655 12.6229V27.0707H21.367Z'
      fill='#141414'
    />
    <path
      d='M54.7488 16.959L57.4217 16.7905C57.4791 17.2277 57.5969 17.5618 57.7751 17.791C58.0651 18.1615 58.4773 18.3467 59.0149 18.3467C59.4166 18.3467 59.7247 18.2526 59.9422 18.0628C60.1596 17.873 60.2684 17.6529 60.2684 17.4039C60.2684 17.167 60.1657 16.9545 59.9588 16.7662C59.7519 16.5794 59.2732 16.4018 58.5196 16.2348C57.2873 15.9554 56.4084 15.585 55.8844 15.1219C55.3559 14.6588 55.0901 14.0697 55.0901 13.3531C55.0901 12.8825 55.226 12.4376 55.4963 12.0186C55.7666 11.5995 56.1744 11.2701 56.718 11.0317C57.2617 10.7918 58.0077 10.6719 58.953 10.6719C60.1143 10.6719 61.0008 10.889 61.6109 11.3247C62.221 11.7605 62.5834 12.4528 62.6997 13.4032L60.0509 13.5596C59.9799 13.1466 59.8334 12.8475 59.6069 12.6593C59.3804 12.471 59.0708 12.3784 58.6736 12.3784C58.3475 12.3784 58.1013 12.4482 57.9352 12.5879C57.7706 12.7276 57.6875 12.8977 57.6875 13.0965C57.6875 13.2423 57.7555 13.3744 57.8929 13.4898C58.0258 13.6112 58.3399 13.7236 58.8352 13.8268C60.063 14.094 60.9434 14.3628 61.4734 14.6361C62.005 14.9093 62.3916 15.2479 62.6332 15.6518C62.8749 16.0556 62.9957 16.5081 62.9957 17.0076C62.9957 17.5952 62.8341 18.1372 62.5124 18.6321C62.1893 19.1286 61.7392 19.5036 61.1608 19.7602C60.5825 20.0168 59.8531 20.1443 58.9711 20.1443C57.4248 20.1443 56.3541 19.8437 55.7591 19.244C55.1641 18.6473 54.8273 17.8851 54.7488 16.959Z'
      fill='#141414'
    />
    <path
      d='M68.5545 19.9348C67.9293 20.073 67.3479 20.1413 66.8058 20.1413C66.1775 20.1413 65.7139 20.0593 65.4164 19.8968C65.1189 19.7344 64.9 19.4884 64.7565 19.1574C64.6145 18.8265 64.5436 18.2905 64.5436 17.5496V15.2145H63.6133V13.3531H64.5436V11.0894H67.0731V13.3531H68.4624V15.216H67.0731V17.5678C67.0731 17.8502 67.0987 18.0385 67.1531 18.1296C67.2361 18.2708 67.3811 18.3421 67.5865 18.3421C67.7738 18.3421 68.0335 18.2875 68.3688 18.1797L68.5545 19.9348Z'
      fill='#141414'
    />
    <path
      d='M76.3876 19.991H74.0303V18.916C73.6784 19.3579 73.3236 19.6721 72.9672 19.8604C72.6093 20.0471 72.1698 20.1413 71.6488 20.1413C70.9541 20.1413 70.409 19.9318 70.0148 19.5127C69.6207 19.0937 69.4229 18.4484 69.4229 17.5784V13.3531H71.9599V17.003C71.9599 17.419 72.0369 17.7151 72.1894 17.8897C72.342 18.0643 72.5579 18.1524 72.8343 18.1524C73.1363 18.1524 73.3824 18.0354 73.5757 17.8016C73.7675 17.5678 73.8642 17.1503 73.8642 16.546V13.3531H76.3876V19.991Z'
      fill='#141414'
    />
    <path
      d='M84.6376 10.8282V19.991H82.2742V19.0102C81.9435 19.4262 81.6414 19.7086 81.3681 19.8543C81.0042 20.0456 80.5994 20.1413 80.1524 20.1413C79.2554 20.1413 78.5698 19.7982 78.0971 19.1104C77.6245 18.4226 77.3874 17.5876 77.3874 16.6037C77.3874 15.5045 77.6486 14.6619 78.1711 14.0789C78.6936 13.4958 79.3581 13.2043 80.1645 13.2043C80.5572 13.2043 80.9135 13.2711 81.2337 13.4047C81.5538 13.5383 81.8378 13.7388 82.0869 14.0045V10.8282H84.6376ZM82.1066 16.6538C82.1066 16.1331 81.9963 15.7444 81.7773 15.4878C81.5584 15.2312 81.2805 15.1037 80.9468 15.1037C80.6538 15.1037 80.4076 15.2267 80.2083 15.4726C80.0105 15.7186 79.9108 16.1315 79.9108 16.71C79.9108 17.252 80.0135 17.6483 80.2174 17.9003C80.4227 18.1524 80.6749 18.2784 80.977 18.2784C81.3001 18.2784 81.5674 18.1508 81.7834 17.8973C81.9993 17.6437 82.1066 17.2277 82.1066 16.6538Z'
      fill='#141414'
    />
    <path
      d='M86.0526 10.8282H88.576V12.5591H86.0526V10.8282ZM86.0526 13.3531H88.576V19.991H86.0526V13.3531Z'
      fill='#141414'
    />
    <path
      d='M89.6633 16.6903C89.6633 15.6776 90.0031 14.8441 90.6796 14.1867C91.3577 13.5308 92.2728 13.2028 93.4266 13.2028C94.7449 13.2028 95.7416 13.5885 96.4152 14.3597C96.9573 14.9807 97.2276 15.7444 97.2276 16.6538C97.2276 17.6741 96.8924 18.5107 96.2203 19.1635C95.5483 19.8149 94.6196 20.1413 93.4326 20.1413C92.374 20.1413 91.5178 19.871 90.8654 19.329C90.0635 18.6579 89.6633 17.7789 89.6633 16.6903ZM92.1928 16.6842C92.1928 17.2763 92.3121 17.7136 92.5492 17.996C92.7863 18.2799 93.0853 18.4211 93.4447 18.4211C93.8087 18.4211 94.1077 18.2814 94.3402 18.0021C94.5743 17.7227 94.6906 17.2748 94.6906 16.6584C94.6906 16.083 94.5728 15.6548 94.3372 15.3739C94.1016 15.0931 93.8102 14.9519 93.4628 14.9519C93.0944 14.9519 92.7908 15.0946 92.5507 15.38C92.3136 15.667 92.1928 16.1012 92.1928 16.6842Z'
      fill='#141414'
    />
    <path
      d='M25.0442 10.9254H31.9894V12.8946H27.8652V14.4949H31.3884V16.3441H27.8652V20.0881H25.0427V10.9254H25.0442Z'
      fill='#141414'
    />
    <path
      d='M32.376 16.7874C32.376 15.7748 32.7158 14.9412 33.3923 14.2838C34.0704 13.6279 34.9855 13.3 36.1393 13.3C37.4576 13.3 38.4543 13.6856 39.1278 14.4569C39.67 15.0779 39.9403 15.8416 39.9403 16.751C39.9403 17.7713 39.605 18.6078 38.933 19.2607C38.261 19.912 37.3323 20.2385 36.1453 20.2385C35.0867 20.2385 34.2304 19.9682 33.5781 19.4262C32.7762 18.7536 32.376 17.8745 32.376 16.7874ZM34.9055 16.7814C34.9055 17.3735 35.0248 17.8107 35.2619 18.0931C35.499 18.3771 35.798 18.5183 36.1574 18.5183C36.5213 18.5183 36.8203 18.3786 37.0529 18.0992C37.287 17.8199 37.4032 17.372 37.4032 16.7556C37.4032 16.1801 37.2855 15.752 37.0499 15.4711C36.8143 15.1902 36.5228 15.049 36.1755 15.049C35.807 15.049 35.5035 15.1917 35.2634 15.4772C35.0263 15.7641 34.9055 16.1984 34.9055 16.7814Z'
      fill='#141414'
    />
    <path
      d='M45.4689 20.0304C44.8452 20.1686 44.2623 20.2369 43.7202 20.2369C43.092 20.2369 42.6283 20.1564 42.3308 19.9925C42.0333 19.83 41.8129 19.5841 41.6709 19.2531C41.5274 18.9221 41.4565 18.3862 41.4565 17.6452V15.3102H40.5262V13.4488H41.4565V11.1911H43.986V13.4488H45.3753V15.3117H43.986V17.6635C43.986 17.9459 44.0131 18.1341 44.0675 18.2252C44.1491 18.3664 44.294 18.4378 44.5009 18.4378C44.6867 18.4378 44.9464 18.3831 45.2817 18.2753L45.4689 20.0304Z'
      fill='#141414'
    />
    <path
      d='M46.0518 16.7874C46.0518 15.7748 46.3916 14.9412 47.0682 14.2838C47.7462 13.6279 48.6614 13.3 49.8151 13.3C51.1335 13.3 52.1302 13.6856 52.8037 14.4569C53.3458 15.0779 53.6162 15.8416 53.6162 16.751C53.6162 17.7713 53.2809 18.6078 52.6089 19.2607C51.9369 19.912 51.0081 20.2385 49.8212 20.2385C48.7626 20.2385 47.9063 19.9682 47.2539 19.4262C46.4535 18.7536 46.0518 17.8745 46.0518 16.7874ZM48.5828 16.7814C48.5828 17.3735 48.7022 17.8107 48.9392 18.0931C49.1763 18.3771 49.4753 18.5183 49.8348 18.5183C50.1987 18.5183 50.4977 18.3786 50.7303 18.0992C50.9643 17.8199 51.0806 17.372 51.0806 16.7556C51.0806 16.1801 50.9628 15.752 50.7273 15.4711C50.4917 15.1902 50.2002 15.049 49.8529 15.049C49.4844 15.049 49.1809 15.1917 48.9408 15.4772C48.7021 15.7641 48.5828 16.1984 48.5828 16.7814Z'
      fill='#141414'
    />
  </svg>
);
